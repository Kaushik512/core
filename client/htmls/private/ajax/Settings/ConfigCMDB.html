		<div class="row">
			<div class="col-md-12">
				<div class="col-md-12">
              <form action="" id="configForm">
					<div class="widget-box">
						<div class="widget-header">
							<h5 class="widget-title" style="color:#4e5964;">
		                   		 <strong>ServiceNow CMDB Setting</strong>
		                    </h5>
						</div>
				<div class="widget-body">
					<div class="widget-main" style="min-height:300px;">
                  		<div>
                     		<section id="widget-grid" class="">
                        <!-- START ROW -->
                        		<div class="row">             
                              <!-- Widget ID (each widget will need unique ID)-->
                              		<div class="jarviswidget" id="wid-id-3" data-widget-editbutton="false" data-widget-custombutton="false">
                                 <!-- widget div-->
                                 		<div>
                                    <!-- widget content -->
                                    	<div class="widget-body no-padding">
                                       <div class="col-lg-6 col-md-6">
                                             <label for="">Configuration Name:<span style="color:Red;" class="control-label">&nbsp;*</span></label>
                                             <!-- <i class="icon-append fa fa-building"></i> -->
                                             <input name="" value="" id="configname" class="form-control" type="text"  cdata="catalyst" unique="true"  cat-validation="required,max15" uniqueconditionedby="configname">
                                          </div>
                                          
                                          
                                             <div class="col-lg-6 col-md-6">
                                                <label for="name">ServiceNow URL:<span style="color:Red;" class="control-label">&nbsp;*</span></label>
                                                <!-- <i class="icon-append fa fa-building"></i> -->
                                                <input name="" value="" id="url" class="form-control" type="url"  cdata="catalyst"  cat-validation="required,urlcheck">
                                             </div>
                                          <hr>
                                          
                                             <div class="col-lg-6 col-md-6" style="margin-top:25px">
                                                <label for="link">UserName:<span style="color:Red;" class="control-label">&nbsp;*</span></label>
                                                <!-- <i class="icon-append fa fa-building"></i> -->
                                                <input type="text" name="" value="" id="username" class="form-control" type="text"  name="website"  cdata="catalyst"  cat-validation="required">
                                             </div>
                                          
                                          <hr/>
                                          
                                             <div class="col-lg-6 col-md-6" style="margin-top:25px">
                                                <label for="link">Password:<span style="color:Red;" class="control-label">&nbsp;*</span></label>
                                                <!-- <i class="icon-append fa fa-building"></i> -->
                                                <input name="" value="" id="password" class="form-control" type="password"  name="website"  cdata="catalyst"  cat-validation="required">
                                             </div>

                                             <div class="col-lg-6 col-md-6" style="margin-top:25px">
                                                <label for="name">ChefServer:<span style="color:Red;" class="control-label">&nbsp;*</span></label>
                                                <select id="chefserver" unique="true" uniqueconditionedby="chefserver"  class="chooseChefserver width-100" sourcepath="1" datapath="masterjson.rows.row" valuelinkfield="costcode" style="vertical-align:central"  cdata="catalyst"  cat-validation="required">
                                                   <option value="">Select a ChefServer</option>
                                                </select>
                                                <span data-val-controltovalidate="domainname" id="MainContent_Req_domainname" data-val="true" data-val-evaluationfunction="RequiredFieldValidatorEvaluateIsValid" data-val-initialvalue="" style="visibility:hidden;">Required</span>
                                             </div>

                                              <div class="col-lg-6 col-md-6" style="margin-top:25px">
                                                <label for="name">Organization:<span style="color:Red;" class="control-label">&nbsp;*</span></label>
                                                <select id="orgname" unique="true" uniqueconditionedby="orgname"  class="chooseOrganization width-100" sourcepath="1" datapath="masterjson.rows.row" valuelinkfield="costcode" style="vertical-align:central"  cdata="catalyst"  cat-validation="required">
                                                   <option value="">Select an Organization</option>
                                                </select>
                                                <span data-val-controltovalidate="domainname" id="MainContent_Req_domainname" data-val="true" data-val-evaluationfunction="RequiredFieldValidatorEvaluateIsValid" data-val-initialvalue="" style="visibility:hidden;">Required</span>
                                             </div>
                                    </div>
                                    <!-- end widget content -->
                                 </div>
                                 <!-- end widget div -->
                              </div>
                              <!-- end widget -->             
                        </div>
                        <!-- END ROW -->
                     </section>
                     <!-- end widget grid -->
                     </div>
                    </div>

            <div class="widget-toolbox clearfix">
               <div class="btn-group pull-right">
                  <button class="btn btn-primary btn-mini" style="margin-right:11px;">
                  <i class="ace-icon fa fa-check bigger-110"></i>
                  Save
                  </button>
                  <a class="btn btn-primary btn-mini" onclick="window.history.back();" id="btncancel">
                  <i class="ace-icon fa fa-undo bigger-110"></i>
                  Cancel
                  </a>
               </div>
            </div>

				</div>
					</div>
               </form><!--form ends-->
				</div>
			</div>
		</div>

      <script >
   
        $(document).ready(function () {
            
            $(".chooseOrganization").select2();
            $(".chooseChefserver").select2();

            $.get('/d4dMasters/readmasterjsonnew/1',function(data){
               
               var $select = $('#orgname');

               for(i=0;i<data.length;i++){
                 var orgname_rowid = data[i].rowid;
                 $select.append('<option value="'+data[i].orgname+'" orgname_rowid="'+orgname_rowid+'">'+data[i].orgname+'</option>');
               }
            });//end of get organizations action
            
            $.get('/d4dMasters/readmasterjsonnew/10',function(data){
               
               var $select = $('#chefserver');

               for(i=0;i<data.length;i++){
                 $select.append('<option value="'+data[i].configname+'">'+data[i].configname+'</option>');
                }
             });//end of get chef servers action

            $('#configForm').submit(function() {
                  console.log("In config form");
                  
                  var configname = $('#configname').val().trim();
                  var servicenowurl = $('#url').val().trim();
                  var username = $('#username').val().trim();
                  var password = $('#password').val().trim();
                  var chefserver = $('#chefserver').val().trim();
                  var org = $('#orgname').val().trim();
                  var orgname_rowid = $('#orgname').find(':selected').attr('orgname_rowid');
                   
                  //console.log("orgname_rowid",orgname_rowid);
                  var body = {};

                  body.configname = configname;
                  body.servicenowurl = servicenowurl;
                  body.username = username;
                  body.password = password;
                  body.chefserver = chefserver;
                  body.org = org;
                  body.orgname_rowid = orgname_rowid;

                  $.post('/servicenow/saveconfig',body,function(data){
                     console.log("Saveconfig Response::"+data);
                  });
             });//end of save config action
           
           });//end of document load

      </script>