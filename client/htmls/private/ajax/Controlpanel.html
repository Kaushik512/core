<div class="row">

    <article class="col-sm-12 col-md-12 col-lg-12" id="controlPanelContainer" style="display:none">

            <div class="widget-body" style="font-size:14px;">
                <div class="">

                    <ul class="thumbnails list-unstyled">


                        <!--Card for Planning starts here-->
                        <li class="domain-role-thumbnail" style="padding-top:58px;margin-left:17px;">
                          <div class="flip-toggle container">
                            <div class="card">
                              <div class="front">
                                <div class="domain-roles">
                                  <div class="domain-roles-caption">
                                    <div class="domain-roles-heading">
                                      
                                    </div>
                                    <hr>
                                    <div class="componentlistContainer">
                                      <div class="instance-bootstrap-list">
                                        <span style="overflow:hidden;text-overflow:ellipsis;width:62px;" class="instance-details-item">
                                          <a class="btn instance-bootstrap-list-faimage" href="javascript:void;" rel="tooltip" data-placement="top" data-original-title="View All Runlist"><i class="fa fa-2x fa-exchange txt-color-blue"></i>
                                          </a>
                                        </span>
                                      </div>
                                      
                                    </div>
                                    <div>
                                      <div class="instance-details-list">
                                        <span class="instance-details-id instance-details-ip">IP : <strong></strong></span>
                                        <span class="instance-details-id">status : 
                                          <span class="instance-state instance-state-text-pending"></span>
                                        </span>
                                      </div>
                                    </div>
                                    <hr>
                                    <div style="width:152px !important;height:30px;" class="instanceActionBtnCtr">
                                      <div class="instance-bootstrap-ActionChefRun">

                                        <a class="instanceActionBtnUpdateRunlist instance-bootstrap-list-image" rel="tooltip" data-placement="top" data-original-title="Chef Client Run"><img src="img/galleryIcons/Chefimport.png" alt="Chefimport" style="width:26px;height:auto;margin-top:1px;"></a>
                                      </a>
                                      </div>
                                      <div class="actionbutton instance-bootstrap-ActionStart"><a href="javascript:void(0)" class="actionbuttonStart instanceActionBtn" data-actiontype="Start" data-placement="top" rel="tooltip" data-original-title="Start"></a></div>
                                        
                                      
                                      <div class="actionbutton instance-bootstrap-ActionShutdown"><a href="javascript:void(0)" class="actionbuttonShutdown instanceActionBtn" data-actiontype="stop" rel="tooltip" data-placement="top" data-original-title="Shutdown"></a></div>

                                      <div class="sshContainer actionbutton instance-bootstrap-ActionSSH">
                                        <a href="javascript:void(0)" data-instanceid="'+data._id+'" data-actiontype="SSH" data-placement="top" rel="tooltip" data-original-title="SSH">
                                          <img src="img/galleryIcons/sshIcon.png"/ height="27px" width="27px" >
                                        </a>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="back card-backflip">                            
                                  <span class="card-backflip-margin">
                                    <a style="color:#333;">
                                      <i class="fa fa-lg fa-fw fa-book txt-color-blue"></i>
                                      <span style="font-size:12px;font-family:Open sans;padding-left:5px;color:#333" class="menu-item-parent">Runlists</span>
                                    </a>
                                  </span>
                                  <hr>
                                  <div class="cardBackRunlistContaner">
                                  <span title="' + data.runlist[j] + '" class="instance-details-item" style="margin-top:8px;overflow:hidden;text-overflow:ellipsis;
                                  width:130px;color:#3a87ad"></span>
                                  <!-- append(data.runlist[j]) -->
                                </div>
                                <hr>
                                <span style="width:160px;text-align:center;display:block;margin-top:8px" class="goback">
                                  <a style="color:#333;cursor:pointer">Go Back</a>
                                </span>
                              </div>
                            </div>
                          </div>
                      </li>
                      <!--Card for Planning ends here-->

                  </ul>

                </div>

<!--<div style="height:200px;border:1px solid blue;margin-left:200px;width:0px"></div>-->

    <ul id="myTab3" class="nav nav-tabs pull-left" style="padding: 10px 0 0 40px;border-bottom: medium none; position: auto; width: 80%; background-color: #2c3742;border-radius:11px 11px 0px 0px;">

        <li class="active" style="margin-right: 30px;">
              <a style="color: #eee;border-radius: 5px 5px 0 0 ; padding: 9px 10px 13px;" href="#l1" data-toggle="tab" style="font-size: 16px" ><i class="fa fa-fw fa-exclamation-circle" style="font-size: 16px"></i>Information</a>
          </li>
          <li class="pull-left" style="margin-right: 30px;">
              <a style="color: #eee;border-radius: 5px 5px 0 0 ; padding: 9px 10px 13px;" href="#l2" data-toggle="tab" style="font-size: 16px"><i class="fa fa-fw fa-share-square-o"></i>Services</a>
          </li>
          <!-- <li class="pull-left" style="margin-right: 30px;">
              <a style="color: #eee;border-radius: 5px 5px 0 0 ;padding: 9px 10px 13px;" href="#l3" data-toggle="tab" style="font-size: 14px"><i class="fa fa-fw fa-sun-o"></i>Configuration</a>
          </li> -->
          <li class="pull-left" style="margin-right: 30px;">
              <a id="controlPanelLogTab" style="color: #eee;border-radius: 5px 5px 0 0 ; padding: 9px 10px 13px;" href="#l4" data-toggle="tab" style="font-size: 14px"> <i class="fa fa-fw fa-clock-o"></i>Logs</a>
          </li>
    </ul>
    <div id="myTabContent3" class="nav pull-left tab-content" style="position: auto; left: 0px; width: 80%;margin-top:4px;">

            <!-- info tab contents starts here -->
            <div class="tab-pane fade in active " id="l1" style="height:415px;overflow-y: auto;">

                 

                      <div class="panel-group smart-accordion-default">
                        <div class="panel panel-default" id="accordion-Hardware" style="border-radius:10px 10px 0px 0px;">
                            <div class="panel-heading">
                              
                              <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion-Hardware" href="#collapseHardware" > 
                                  <i class="fa fa-fw fa-plus-circle txt-color-blue"></i> 
                                  <i class="fa fa-fw fa-minus-circle txt-color-red"></i>
                                  <i class="fa fa-fw fa-wrench" style="font-size:18px;"></i>
                                  <b style="color:#3a87ad;font-size:13px;"><u>Hardware</u></b>
                                </a>
                             </h4>
                            </div>
                            <div id="collapseHardware" class="panel-collapse collapse in">
                              <div class="panel-body">
                                <table align="left">
                                       <thead>
                                           
                                       </thead>

                                       <tbody>
               

                                          </tbody>

                                      </table>

                              </div>
                             
                            </div>
                        </div>

                        <!--Role Attributes Starts here-->
                        <div class="panel panel-default" id="accordion-Software">
                          <div class="panel-heading">
                            <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-Software" href="#collapseSoftware" ><i class="fa fa-fw fa-plus-circle txt-color-blue"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i><i class="fa fa-fw fa-rss fa-dot-circle-o" style="font-size:18px;"></i> <b style="color:#3a87ad;font-size:13px;"><u>Software</u></b></a></h4>
                          </div>
                          <div id="collapseSoftware" class="panel-collapse collapse in">
                            <div class="panel-body">
                              <table align="left">
                              

                               <tbody > 
                                 
                                </tbody>
                              </table>

                            </div>

                          </div><!--collapseRoleAttr ends here-->
                        </div>
                        <!--Role Attributes ends here-->

                        <!--Configmgmt Attributes Starts here-->
                        <div class="panel panel-default">
                          <div class="panel-heading">
                            <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-configmgmt" href="#collapseConfigmgmt"> <i class="fa fa-fw fa-plus-circle txt-color-blue"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i><i class="fa fa-fw fa-bar-chart-o" style="font-size:18px;"></i> <b style="color:#3a87ad;font-size:13px;"><u>Configuration Management</u></b></a></h4>
                          </div>
                          <div id="collapseConfigmgmt" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <table align="left">
                                 
                                 <tbody > 
                                    
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                        <!--Configmgmt Attributes Ends here-->
                      </div>

            </div> <!-- info tab contents ends here-->

            <!-- tab of Actions starts here -->
            <div class="tab-pane" id="l2" style="height:415px;overflow-y: auto;border-radius:11px;">


                
                <div role="content">

                    <!-- widget content -->
                    <div class="table-responsive" style="border:1px solid #dddddd;min-height:400px;border-radius:11px">

                        <table class="table table-hover">
                            <thead>
                                 <th style="font-size: 13px;"><i class="fa fa-fw fa-archive "></i><strong style="color:#3a87ad">Service Name</strong></th>
                                 <th style="font-size: 13px;"><i class="fa fa-fw fa-sort-amount-asc "></i><strong style="color:#3a87ad">Actions </strong></th>
                                 <th style="font-size: 13px;"><i class="fa fa-fw fa-flash "></i><strong style="color:#3a87ad">Options</strong></th>
                                 
                            </thead>
                            <tbody>
                                <tbody class="servicesTbody">
  
</tbody>
                                
                            </tbody>
                            <a class="btn btn-primary addServiceBtn" style="float:right;padding-right:10px;margin-right:10px;" data-toggle="modal" href="#serviceModalContainer">Add New Service</a>
                        </table>

                    </div>
                    <!-- end widget content -->

                </div>
                <!-- end widget div -->

            </div> <!-- Tab of Action ends here -->
            <div class="modal fade" id="serviceModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
                <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Add New Service</h4>
                  </div>
                  <div class="modal-body">
                    
                    <!--<select id="serviceList" class="col col-6" multiple></select>-->
                      <table  class="table table-striped table-bordered table-hover dataTable no-footer" cellpadding="5px" width="100%" style="text-align:center";>
                       <thead>
                        <tr>
                          <th>Name</th>
                          <th>Actions</th>
                          <th>Select</th>
                        </tr>
                       </thead>
                       <tbody id="serviceList">
                            <tr><td colspan=3>No Data Available</td></tr>

                       </tbody>
                      </table>

                  </div>
                  
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-primary btnsaveDeploymentBP btnSaveService"><i class="ace-icon fa fa-check bigger-110"></i>&nbsp;Save</button>
                    <button type="button" class="btn btn-default btn-primary" data-dismiss="modal"><i class="ace-icon fa fa-undo bigger-110"></i>&nbsp;Cancel</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Configure tab contents starts here -->
            <div class="tab-pane" id="l3" style="height:415px;overflow-y: auto;">
                <div class="panel-group smart-accordion-default" id="accordion-3">
                                <div class="panel panel-default" style="border-radius:10px 10px 0px 0px;">
                                  <div class="panel-heading">
                                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-3" href="#collapseOne-3" > <i class="fa fa-fw fa-plus-circle txt-color-blue"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i><i class="fa fa-fw fa-align-justify"></i>
                                     <b style="color:#3a87ad;font-size:13px;"><u>Default Attributes</b></u></a></h4>
                                  </div>
                                  <div id="collapseOne-3" class="panel-collapse collapse in">
                                    <div class="panel-body">
                                      <table class="wide2" align="left">
                                         <thead>
                                           <tr style="line-height:2.3">
                                             <th scope="col" style="width:80%;"><img src='img/galleryIcons/Apache.png'>&nbsp;&nbsp;<u style="font-size:12px;">Apache2</u>
                                             </th>
                                             <th scope="col"> <u style="font-size:12px;">Values</u></th>
                                           </tr>   
                                         </thead>

                                         <tbody > 
                                              <tr style="line-height:2.1">
                                                <td scope="row" style="font-size:12px;"> default['apache']['listning_port'] </td>
                                                <td  style="font-size:12px;"id="abc" contenteditable="true" style="width:72px;"> 80 </td>
                                              </tr>
                                              <tr style="line-height:2.1">
                                                <td scope="row" style="font-size:12px;"> default['apache']['user'] </td>
                                                <td contenteditable="true" style="font-size:12px;"> WWW </td>
                                              </tr>
                                              <tr style="line-height:2.1">
                                                <td scope="row" style="font-size:12px;"> default['apache']['group'] </td>
                                                <td contenteditable="true"> WWW </td>
                                              </tr>
                                              <tr style="line-height:2.1">
                                                <td scope="row" style="font-size:12px;"> default['apache']['root_dir'] </td>
                                                <td contenteditable="true" style="font-size:12px;"> /var/www/html </td>
                                              </tr>
                                              <tr style="line-height:2.1">
                                                <td scope="row" style="font-size:12px;"> default['apache']['root_user'] </td>
                                                <td contenteditable="true" style="font-size:12px;"> www </td>
                                              </tr>
                                            <tr style="line-height:2.3">
                                             <th scope="col"><img src='img/galleryIcons/MySQL.png'>&nbsp;&nbsp;<u style="font-size:12px;">MySQL</u></th>
                                             <th scope="col"> <u style="font-size:12px;">Values</u></th>
                                            </tr>       

                                            <tr style="line-height:2.1">
                                              <td scope="row" style="font-size:12px;"> default['mysql']['port'] </td>
                                              <td id="abc" style="font-size:12px;" contenteditable="true"> 3006 </td>
                                            </tr>
                                            <tr style="line-height:2.1">
                                              <td scope="row" style="font-size:12px;"> default['mysql']['DB_name'] </td>
                                              <td contenteditable="true" style="font-size:12px;"> RL_Database </td>
                                            </tr>

                                            </tbody>

                                        </table>

                                    </div>
                                   
                                  </div>
                                </div>

                                <!--Role Attributes Starts here-->
                                <div class="panel panel-default">
                                  <div class="panel-heading">
                                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-2" href="#collapseRoleAttr" ><i class="fa fa-fw fa-plus-circle txt-color-blue"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i><i class="fa fa-fw fa-rss"></i> <b style="color:#3a87ad;font-size:13px;"><u>Role Attributes</u></b></a></h4>
                                  </div>
                                  <div id="collapseRoleAttr" class="panel-collapse collapse in">
                                    <div class="panel-body">
                                      <table class="wide2" align="left">
                                         <thead>
                                           <tr style="line-height:2.3">
                                             <th scope="col" style="width:80%;"><u style="font-size:12px;">Attributes</u></th>
                                             <th scope="col"> <u style="font-size:12px;">Values</u></th>
                                           </tr>   
                                         </thead>

                                         <tbody > 
                                               <thead>
                                                 <tr style="line-height:2.1">
                                                  <th scope="col"><img src='img/galleryIcons/Apache.png'><u style="font-size:12px;">Apache2</u></th>
                                                  <th scope="col" style="font-size:12px;"></th>
                                                </tr>
                                                </thead>                                           

                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['listning_port'] </td>
                                                    <td  id="abc" contenteditable="true" style="width:72px;font-size:12px;"> 80 </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['user'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> WWW </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['group'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> WWW </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['root_dir'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> /var/www/html </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['root_user'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> www </td>
                                                  </tr>

                                            </tbody>

                                        </table>

                                    </div>

                                  </div><!--collapseRoleAttr ends here-->
                                </div>
                              <!--Role Attributes ends here-->

                              <div class="panel panel-default">
                                <div class="panel-heading">
                                  <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-2" href="#collapseEnvAttr"> <i class="fa fa-fw fa-plus-circle txt-color-blue"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i><i class="fa fa-fw fa-globe"></i> <b style="color:#3a87ad;font-size:13px;"><u>Environment Attributes</u></b></a></h4>
                                </div>
                                <div id="collapseEnvAttr" class="panel-collapse collapse in">
                                    <div class="panel-body">
                                      <table class="wide2" align="left">
                                         <thead>
                                           <tr style="line-height:2.3">
                                             <th scope="col" style="width:80%;"><u style="font-size:12px;">Attributes</u></th>
                                             <th scope="col"> <u style="font-size:12px;">Values</u></th>
                                           </tr>   
                                         </thead>

                                         <tbody > 
                                               <thead>
                                                 <tr style="line-height:2.1">
                                                  <th scope="col"><img src='img/galleryIcons/Apache.png'><u style="font-size:13px;">Apache2</u></th>
                                                  <th scope="col" ></th>
                                                </tr>
                                                </thead>                                           

                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['listning_port'] </td>
                                                    <td  id="abc" contenteditable="true" style="width:72px;"> 80 </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['user'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> WWW </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['group'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> WWW </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['root_dir'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> /var/www/html </td>
                                                  </tr>
                                                  <tr style="line-height:2.1">
                                                    <td scope="row" style="font-size:12px;"> default['apache']['root_user'] </td>
                                                    <td contenteditable="true" style="font-size:12px;"> www </td>
                                                  </tr>

                                            </tbody>

                                        </table>

                                    </div>
                                  
                              </div>
                                                    <!-- Data Bags Accordian starts here -->

                      <div class="panel panel-default">
                        <div class="panel-heading">
                          <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-2" href="#collapseDataBag" ><i class="fa fa-fw fa-plus-circle txt-color-blue"></i> <i class="fa fa-fw fa-minus-circle txt-color-red"></i><i class="fa fa-fw fa-rss"></i><b style="color:#3a87ad;font-size:13px;"><u>Data Bags</u></b></a></h4>
                        </div>
                        <div id="collapseDataBag" class="panel-collapse collapse in">
                          <div class="panel-body">
                            <div id="servicebox">
                              <div id="data_bag_div" class="serviceBox1" >
                              <div style="width:100px;padding-left:30px;"><span style="font-size:13px;"><b><u>Databags</u></b></span></div> 
                                <ul style="list-style:none outside none;font-size:12px;">
                                  <li> <a class="panel-databag" > Users </a> </li>
                                  <li> <a class="panel-databag" > Groups </a> </li>
                                  <li> <a class="panel-databag" > Oracle_Bag </a> </li>
                                  <li> <a class="panel-databag" > Database </a> </li>
                                  <li> <a class="panel-databag" > Servers </a> </li>
                                </ul>
                              </div>
                              <div  id="data_bag_div2" class="serviceBox2"  >
                              <div style="width:140px;padding-left:14px;"><span style="font-size:13px;"><b><u>Databag Items</u></b></div> 
                                  <ul style="list-style:none outside none;font-size:12px;">
                                    <li> <a class="panel-databag1"  > Frank </a> </li>
                                    <li> <a  class="panel-databag1" > bobo </a> </li>
                                  </ul>
                              </div>
                              <div id="data_bag_div3" class="serviceBox3" >
                                 <i class="fa fa-pencil txt-color-blue" style="float:right;padding-top:10px"><a data-toggle="modal" href="#myModal"> Edit </a></i>
                              <div style="width:140px;padding-left:24px;"><span style="font-size:13px;"><b><u>Edit Frank</u></b></div> 

                                 <ul style="list-style:none outside none;padding-top:5px;font-size:12px;">
                                   <li > id: frank </li>
                                   <li> comment: Frank </li>
                                   <li> uid: 2000 </li>
                                   <li> gid: 0 </li>
                                   <li> home: /home/frank </li>
                                   <li> shell: /bin/bash </li>
                                 </ul>
                              </div>
                            </div>
                          </div>
                        </div><!--collapse Data Bags ends here-->
                      </div>
                    </div>
                    <a href="" class="btn btn-primary" style="width:100px;border-radius:5px;float:right;margin-top:10px;margin-right:10px;">Save</a>
                </div>

            </div> <!--Configure tab contents ends here -->
            <div class="tab-pane" id="l4" style="height:415px;overflow-y: auto;overflow-x:hidden;">
              <div class="logsArea"></div>
            </div>
            <!-- History tab contents starts here -->
        


           <!--  <div class="row" > -->
              
            <!-- </div> -->

    </div> 

</div>
</article>
<!-- <div class="col-md-10 col-lg-10 col-xs-12 col-sm-12" style="bottom:0px;position:fixed;">
                <div class="clearfix form-actions" style="text-align:center">
                  <div class="btn-group">
                      <button class="btn pull-left btn-primary" id="getViewAttr" onclick="getInfoLi();">
                        Back to Instances
                      </button>
                  </div>
                </div>
</div> -->
<!--article ended-->
<div class="loadingControlPanelIndicator">
<img class="center-block" style="height:50px;width:50px;margin-top: 10%;margin-bottom: 10%;" src="img/loading.gif" />
</div>

</div>


<div class="modal fade" id="controlPanelChefRunModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel"><i class="fa fa-pencil-square-o txt-color-blue"></i>Update Runlist</h4>
      </div>
      <div class="modal-body">
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default btn-primary btnUpdateInstanceRunlist">Update</button>
        <button type="button" class="btn btn-default btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    Edit Data Bag Item
                </h4>
            </div>
            <div class="modal-body no-padding">

                <form action="" id="" class="">
                        <div action="" id="" class="smart-form" novalidate="novalidate">

                        <div class="row" style="margin:0px;">
                           <div style="height:200px; width:200px; padding-left:20px; padding-top:10px;" contenteditable="true">
                              <ul style="list-style:none outside none;font-size:12px;">
                                 <li> id: frank </li>
                                 <li> comment: Frank </li>
                                 <li> uid: 2000 </li>
                                 <li> gid: 0 </li>
                                 <li> home: /home/frank </li>
                                 <li> shell: /bin/bash </li>
                             </ul>
                           </div>
    
                        </div>


                    

                            <footer>
                                <button type="submit" class="btn btn-primary">
                                    Save
                                </button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">
                                    Cancel
                                </button>

                            </footer>
                        </div>
                    
                </form>                     
                        

            </div>

        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<br><br>
<footer class="footer">
  <div class="clearfix form-actions" style="text-align:center">
    <div class="btn-group">
      <button class="btn pull-left btn-primary" id="getViewAttr" onclick="getInfoLi();" style="margin-left:200px;">Back to Instances</button>
    </div>
  </div>
</footer>

<!-- Modal SSH Shell-->
<div class="modal fade" id="modalSSHShellContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog " style="">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Terminal</h4>
      </div>
      <div class="modal-body" style="height:430px">
            
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- div of Contant tab starts here -->

<style>
  #myTab3 .active a{
  color: #40baf1 !important;
}
#myTab3 li a:hover{
  color: #000000 !important;
}
</style>

<script type="text/javascript">
var urlParams ={};
(window.onpopstate = function () {
  var url = window.location.href;
  var indexOfQues = url.lastIndexOf("?");
  if(indexOfQues!=-1) {
  var sub =  url.substring(indexOfQues+1);
  console.log(sub);
  var params = sub.split('&')
  for(var i=0;i<params.length;i++) {
    var paramParts = params[i].split('=');
    urlParams[paramParts[0]] = paramParts[1];
  }
 }
     
})();


var logTimeout;
   var stateTimeout;
$.get('../instances/'+urlParams.id,function(data){

   //setting tree and drawing breadcrumb
   //alert(data.projectId)
   var $selectedOrg = $('.orgsList').find('[data-org="'+urlParams.org+'"]');
   // alert($selectedOrg);

   var orgid = $selectedOrg.click().attr('data-id');
   //alert(orgid);
   if(orgid) {
    console.log('orgid ==>',orgid);
    // var $li = $('.'+orgid).find('li[data-envName="'+data.envId+'"]').addClass('active');
    // $li.parents('li').addClass('active open');
    // $li.parents('ul').css({'display':'block'});
    // drawBreadCrumb();
   } 
 
   console.log(data);
   //setting users in service menu
    var $usersList = $('.instanceUserList').empty();
    for(var i=0;i<data.users.length;i++) {
       $usersList.append('<option value="'+data.users[i]+'">'+data.users[i]+'</option>'); 
    }

    //fetching services list
    //alert(data.chef.serverId);
    $.get('/d4dMasters/19/chefserverid/'+data.chef.serverId,function(services){
      //console.log('hi ==>',serviceList);
      services = JSON.parse(services);
      //alert('Out json :' + JSON.stringify(services)+ services.length);
      var $serviceList = $('#serviceList');
      console.log(services,"length==>",services.length);
      var serviceIds = [];
      if(data.serviceIds && data.serviceIds.length) {
        serviceIds = data.serviceIds;
      }

      for(var i=0;i<services.length;i++){
        
        var name = services[i].servicename;
        if(!name) {
           name = services[i].commandname;
        }
        var $tr = $('<tr></tr>').attr('data-listServiceId',services[i].rowid);
        var $tdName = $('<td></td>').append(name);
        $tr.append($tdName);
        console.log(services[i]);
        var commandType = services[i].commandtype;
        if(commandType === 'Chef Cookbook/Recepie') {
          var html =  getCookbookActionHtml(services[i].rowid,services[i]);
        } else {
           var html =  getCommandActionHtml(services[i].rowid,services[i]);
        }
        console.log('here');
        var $tdActions = $('<td></td>').append(html);
        $tr.append($tdActions);
        var $checkBox = $('<input type="checkbox" name="svcCkb"></input>').val(services[i].rowid).data('serviceData',services[i]);
        var $tdCheckBox = $('<td></td>').append($checkBox);
        $tr.append($tdCheckBox);
        if(serviceIds.indexOf(services[i].rowid) !== -1) {
          $tr.addClass('hidden');
        }
        
        $serviceList.append($tr);
      }
      

    });
    console.log(data.serviceIds,"  ---  ",data.serviceIds.length);
    $.post('/d4dMasters/getrows/19', {
        serviceids: data.serviceIds
    }, function(services) {
        console.log(services);
        for (var i = 0; i < services.length; i++) {
            addServiceToDom(services[i]);
        }
    });

    
    

   

    
  
   var $domainRolesCaption = $('.domain-roles-caption').attr('data-instanceId',data._id).attr('data-chefServerId',data.chef.serverId).data('runlist',data.runlist).data('orgId',data.orgId).data('serviceList',data.serviceIds);
   var $divHeadingCP = $domainRolesCaption.find('.domain-roles-heading').empty();

   var $spanheadingLeftCP = $('<span></span>').addClass('domain-roles-icon').html('<img src="'+data.blueprintData.iconPath+'" style="width:27px;margin-right:5px;margin-top:-10px;"/>').attr('contenteditable', 'false');

    var $spanheadingMiddleCP = $('<span>' + data.blueprintData.blueprintName + '</span>').addClass('cardHeadingTextoverflow').attr('rel', 'tooltip').attr('data-placement', 'top').attr('data-original-title', ''+ data.blueprintData.blueprintName +'');
    var $spanheadingRightCP = $('<span></span>').css({
        'float': 'right'
    }).append($('<a href="javascript:void(0)" data-instanceId="' + data._id + '"></a>').addClass('moreInfo').attr('rel', 'tooltip').attr('data-placement', 'top').attr('data-original-title', 'MoreInfo'));

    $divHeadingCP.append($spanheadingLeftCP);
    $divHeadingCP.append($spanheadingMiddleCP);
    $divHeadingCP.append($spanheadingRightCP);
    //$domainRolesCaption.append($divHeadingCP);


   // .append('<img src="img/templateicons/'+data.blueprintData.templateId+'.png" style="height:20px;width:20px;margin-right:5px;">').append(data.blueprintData.blueprintName);
  $domainRolesCaption.find('.instance-details-ip strong').html(data.instanceIP);
  $domainRolesCaption.find('.instance-state').html(data.instanceState);
  if(data.instanceState == 'running'){
           $domainRolesCaption.find('.componentlistContainer').addClass('started');
           $domainRolesCaption.find('.instance-state').html(data.instanceState).addClass('instance-state-text-started');
  } else if(data.instanceState == 'terminated'){
            $domainRolesCaption.find('.componentlistContainer').addClass('stopped');          
            $domainRolesCaption.find('.instance-state').html(data.instanceState).addClass('instance-state-text-stopped');
  } else if(data.instanceState == 'stopped'){
            $domainRolesCaption.find('.componentlistContainer').addClass('stopped');
            $domainRolesCaption.find('.instance-state').html(data.instanceState).addClass('instance-state-text-stopped');          
  } else {
            $domainRolesCaption.find('.componentlistContainer').addClass('pending');
            $domainRolesCaption.find('.instance-state').html(data.instanceState).addClass('instance-state-text-pending');            
  }
  pageSetUp();

  
  
  var displayLog = function(e){
         var instanceId =  $('.domain-roles-caption').attr('data-instanceId');
         
         if(logTimeout) {
                clearTimeout(logTimeout);
          }
         var $logTabBtn = $('#controlPanelLogTab');
         $('.logsArea').empty().append('<img class="center-block" style="height:50px;width:50px;margin-top: 10%;margin-bottom: 10%;" src="img/loading.gif" />');
         $logTabBtn.trigger('click');
         var lastTimestamp;
         function pollLogs(timestamp,delay,clearData) {
         var url = '../instances/'+instanceId+'/logs';
         if(timestamp) {
            url = url + '?timestamp='+timestamp;
         }
         
         logTimeout = setTimeout(function(){
         $.get(url,function(data){
            var $modalBody = $('.logsArea');
            if(clearData) {
               $modalBody.empty();
            }
            var $table  = $('<div></div>');
            
            for(var i=0;i<data.length;i++) {  
                var $rowDiv = $('<div class="row"></div>');
                var timeString = new Date().setTime(data[i].timestamp);
                var date = new Date(timeString).toUTCString();//converts to human readable strings
                $rowDiv.append($('<div class="col-lg-4 col-sm-4"></div>').append('<div>'+date+'</div>'));

                if (data[i].err){
                    $rowDiv.append($('<div class="col-lg-8 col-sm-8"></div>').append('<span>'+data[i].log+'</span>'));
                }
                else {
                    $rowDiv.append($('<div class="col-lg-8 col-sm-8 " style="color:DarkBlue;"></div>').append('<span>'+data[i].log+'</span>'));
                }

                $table.append($rowDiv);
                $table.append('<hr/>');
                
            }
           
           
            if(data.length) {
                 lastTimestamp = data[data.length -1].timestamp;
                 console.log(lastTimestamp);
                 $modalBody.append($table);
                 $modalBody.scrollTop($modalBody[0].scrollHeight+100);
            }
           
            
            
            if($logTabBtn.parent('li').hasClass('active')) {
                   console.log('polling again');
                   pollLogs(lastTimestamp,1000,false);
            } else {
                 console.log('not polling again');
            }            
          });
         },delay);
        }
        pollLogs(lastTimestamp,0,true);
        // $.get('../instances/' + data.id, function(data) {
        //     //$('#tabInstanceStatus').hide();
        //     addInstanceToDOM(data);
        // });
    };

  $('.moreInfo').click(displayLog);
  $('#controlPanelLogTab').on('shown.bs.tab',displayLog);
   
   
  function getCssClassFromStatus(status) {
        var cssClasses = {

        };
        switch(status) {
            
            case 'running':
            cssClasses.ringClass = 'started';
             cssClasses.textClass = 'instance-state-text-started';
             cssClasses.tableViewStatusClass ="started";
            break;

            case 'stopped':
             cssClasses.ringClass = 'paused';
             cssClasses.textClass = 'instance-state-text-stopped';
             cssClasses.tableViewStatusClass ="stopped";
            break;

            case 'terminated':
             cssClasses.ringClass = 'stopped';
             cssClasses.textClass = 'instance-state-text-stopped';
             cssClasses.tableViewStatusClass ="stopped";
            break;

            default :
             cssClasses.ringClass = 'pending';
             cssClasses.textClass = 'instance-state-text-pending';
             cssClasses.tableViewStatusClass ="pending";

        }

        return cssClasses;
     } 
 


  $('.instanceActionBtn').click(function(e){
        var $this = $(this);
        var $parent = $('.domain-roles-caption');
        var instanceId = $parent.attr('data-instanceId');
        var type = $this.attr('data-actionType');
        url = '../instances/'+instanceId+'/startInstance';
        if(type==='stop') {
            url = '../instances/'+instanceId+'/stopInstance'
        }
        
        $parent.find('.moreInfo').trigger('click');
        $.get(url,function(data){
            
            console.log($parent.length,$parent);

            
           
            var cssClassed = getCssClassFromStatus(data.instanceCurrentState); 
            
            var oldState = data.instanceCurrentState;

            $parent.find('.componentlistContainer').removeClass().addClass('componentlistContainer').addClass(cssClassed.ringClass);

            $parent.find('.instance-state').removeClass().addClass('instance-state').addClass(cssClassed.textClass).html(data.instanceCurrentState);
            
            function pollInstanceState(state,delay) {
                stateTimeout = setTimeout(function() {
                    $.get('../instances/'+instanceId,function(data){
                        if(data) {
                            if(data.instanceState === state) {
                                pollInstanceState(state,5000);
                            } else {
                                console.log('polling complete');
                                 var cssClassed = getCssClassFromStatus(data.instanceState); 
                                 $parent.find('.componentlistContainer').removeClass().addClass('componentlistContainer').addClass(cssClassed.ringClass);
                                 $parent.find('.instance-state').removeClass().addClass('instance-state').addClass(cssClassed.textClass).html(data.instanceState);
                            } 
                        }   
                    })
                }, delay);                
            }
            pollInstanceState(oldState,2000);                        
        }); 
    });

  
    $('.instanceActionBtnUpdateRunlist').click(function(e){
         var $this = $(this);
         var $parent = $('.domain-roles-caption');
         var instanceId = $parent.attr('data-instanceId');
         var chefServerId = $parent.attr('data-chefServerId');
         var orgId = $parent.data('orgId');
         var runlist = $parent.data('runlist');
         console.log(orgId);
         var $ccrs = $chefCookbookRoleSelector(urlParams.org,null,runlist);
         var $controlPanelChefRunModalContainer = $('#controlPanelChefRunModalContainer');
         $controlPanelChefRunModalContainer.find('.modal-body').empty().append($ccrs);
         $controlPanelChefRunModalContainer.modal('show');

    });

    $('.btnUpdateInstanceRunlist').click(function(e) {
        var $parent = $('.domain-roles-caption');
        var instanceId = $parent.attr('data-instanceId');
        $chefRunModalContainer = $('#controlPanelChefRunModalContainer');
        var $selectedRunlist = $chefRunModalContainer.find('.deploymentSelectedRunList');

        var runlist = [];
        var $inputs = $selectedRunlist.find('input');
        $inputs.each(function() {
            runlist.push($(this).val());
        });
        console.log('runlist == ',runlist);
        $.post('../instances/' + instanceId + '/updateRunlist', {
            runlist: runlist
        }, function(data) {
            $chefRunModalContainer = $('#controlPanelChefRunModalContainer').modal('hide');
            var $parent = $('.domain-roles-caption[data-instanceId="' + instanceId + '"]');
            $parent.find('.moreInfo').trigger('click');
            console.log(data);
        });
    });
  //hardware
  var $hrdwareTbody =  $('#collapseHardware').find('tbody');
  $hrdwareTbody.empty();
  var $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Machine</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.hardware.architecture+'</td>');
  $hrdwareTbody.append($tr);
  
  $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Total Memory</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.hardware.memory.total+'</td>');
  $hrdwareTbody.append($tr);

  $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Free Memory</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.hardware.memory.free+'</td>');
  $hrdwareTbody.append($tr);
  

  //software
  var $sfwareTbody =  $('#collapseSoftware').find('tbody');
  $sfwareTbody.empty();
  var $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">OS</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.hardware.platform+'</td>');
  $sfwareTbody.append($tr);
  
  $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Version</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.hardware.platformVersion+'</td>');
  $sfwareTbody.append($tr);

  //consfigManagement
   var $cfmwareTbody =  $('#collapseConfigmgmt').find('tbody');
  $cfmwareTbody.empty();
  var $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Environment</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.envId+'</td>');
  $cfmwareTbody.append($tr);
  
  $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Chef Bootstrap</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.bootStrapStatus+'</td>');
  $cfmwareTbody.append($tr);

  $tr = $('<tr style="line-height:2.3"></tr>');
  $tr.append('<td scope="col" style="font-size:12px;">Runlist</td><td scope="col"> : </td><td scope="col" style="font-size:12px;"> '+data.runlist.join()+'</td>');
  $cfmwareTbody.append($tr);


  $('.loadingControlPanelIndicator').hide();
  $('#controlPanelContainer').show();


});

function getActionBtnClass(actionType) {
  console.log(actionType)
   switch(actionType) {
    case 'start' : 
      return {
        bg : 'frontGreen',
        icon:'fa-play',
        actionType:'start'
      }
    case 'stop' : 
      return {
        bg : 'frontRed',
        icon:'fa-power-off',
        actionType:'stop'
      }
    case 'restart' : 
      return {
        bg : 'frontRestart',
        icon:'fa-undo',
         actionType:'restart'
      }
    case 'kill' : 
      return {
        bg : 'frontKill',
        icon:'fa-times-circle',
        actionType:'kill'
      }
    case 'status' : 
      return {
        bg : 'frontKill',
        icon:'fa-bell-o',
        actionType:'status'
      }
    default: 
     return {
     }


   }
}

function getCommandActionHtml(serviceId,serviceData) {
  var commandActions = serviceData.commandaction.split(',');
  var html ='';
  for(var i=0;i<commandActions.length;i++) {
    var actionBtnClass = getActionBtnClass(commandActions[i]);
    console.log(actionBtnClass);
     html += '<div class="container1" style="display:inline-block"><div><div class="cardGreenRedYellowBlack ' + actionBtnClass.bg + '"><div><div class=""><a rel="tooltip" data-placement="top" data-original-title="'+commandActions[i]+'" data-action-type="' + actionBtnClass.actionType + '" href="javascript:void(0)"><i class="fa ' + actionBtnClass.icon + ' fa-1x txt-color-white"></i></a></div></div></div></div></div>';

  }
  return html;

}

function getCookbookActionHtml(serviceId,serviceData) {
  var html = '';
  if(serviceData.servicestart && serviceData.servicestart !== 'none') {
    var actionBtnClass = getActionBtnClass('start');
    console.log(actionBtnClass);
     html += '<div class="container1" style="display:inline-block"><div><div class="cardGreenRedYellowBlack ' + actionBtnClass.bg + '"><div><div class=""><a rel="tooltip" data-placement="top" data-original-title="start" data-action-type="' + actionBtnClass.actionType + '" href="javascript:void(0)"><i class="fa ' + actionBtnClass.icon + ' fa-1x txt-color-white"></i></a></div></div></div></div></div>';
  }
  if(serviceData.servicestop && serviceData.servicestop !== 'none') {
    var actionBtnClass = getActionBtnClass('stop');
    console.log(actionBtnClass);
     html += '<div class="container1" style="display:inline-block"><div><div class="cardGreenRedYellowBlack ' + actionBtnClass.bg + '"><div><div class=""><a rel="tooltip" data-placement="top" data-original-title="stop" data-action-type="' + actionBtnClass.actionType + '" href="javascript:void(0)"><i class="fa ' + actionBtnClass.icon + ' fa-1x txt-color-white"></i></a></div></div></div></div></div>';
  }

  if(serviceData.servicerestart && serviceData.servicerestart !== 'none') {
    var actionBtnClass = getActionBtnClass('restart');
    console.log(actionBtnClass);
     html += '<div class="container1" style="display:inline-block"><div><div class="cardGreenRedYellowBlack ' + actionBtnClass.bg + '"><div><div class=""><a rel="tooltip" data-placement="top" data-original-title="restart" data-action-type="' + actionBtnClass.actionType + '" href="javascript:void(0)"><i class="fa ' + actionBtnClass.icon + ' fa-1x txt-color-white"></i></a></div></div></div></div></div>';
  }
  if(serviceData.servicekill && serviceData.servicekill !== 'none') {
    var actionBtnClass = getActionBtnClass('kill');
    console.log(actionBtnClass);
     html += '<div class="container1" style="display:inline-block"><div><div class="cardGreenRedYellowBlack ' + actionBtnClass.bg + '"><div><div class=""><a rel="tooltip" data-placement="top" data-original-title="kill" data-action-type="' + actionBtnClass.actionType + '" href="javascript:void(0)"><i class="fa ' + actionBtnClass.icon + ' fa-1x txt-color-white"></i></a></div></div></div></div></div>';
  }
  if(serviceData.servicestatus && serviceData.servicestatus !== 'none') {
    var actionBtnClass = getActionBtnClass('status');
    console.log(actionBtnClass);
     html += '<div class="container1" style="display:inline-block"><div><div class="cardGreenRedYellowBlack ' + actionBtnClass.bg + '"><div><div class=""><a rel="tooltip" data-placement="top" data-original-title="status" data-action-type="' + actionBtnClass.actionType + '" href="javascript:void(0)"><i class="fa ' + actionBtnClass.icon + ' fa-1x txt-color-white"></i></a></div></div></div></div></div>';
  }

  return html;

}

var $serviceTableBody = $('.servicesTbody');

function addActionToServiceDom(serviceId,serviceData) {
    $td = $serviceTableBody.find('td[data-serviceId='+serviceId+']');
    var commandType = serviceData.commandtype;
    if(commandType === 'Chef Cookbook/Recepie') {
      var html =  getCookbookActionHtml(serviceId,serviceData);

    } else {
       var html =  getCommandActionHtml(serviceId,serviceData);
    }
    
    
    $td.append(html);
    $td.find('a').click(function(e) {
        var actionType = $(this).attr('data-action-type');
        $.get('../instances/' + urlParams.id + '/services/' + serviceId +'/' + actionType, function(data) {
            var $parent = $('.domain-roles-caption[data-instanceId="' + urlParams.id + '"]');
            console.log($parent.length,$parent.find('.moreInfo').length);
            $parent.find('.moreInfo').trigger('click');

        });
    });

}

function addServiceToDom(serviceData) {
  var $tr = $('<tr></tr>').attr('data-serviceId',serviceData.rowid);
  $('.servicesTbody').append($tr);
  var name = serviceData.servicename;
  if(!name) {
    name = serviceData.commandname;
  }
  var $tdName = $('<td></td>').append(name);
  $tr.append($tdName);
  $tr.append($('<td></td>').attr('data-serviceId',serviceData.rowid))
  
  addActionToServiceDom(serviceData.rowid,serviceData);
  
    var $tdOption = $('<td></td>').append('<div class="btn-group tableactionWidth"><button class="btn btn-danger pull-left btn-sg tableactionbutton deleteServiceBtn" rel="tooltip" data-placement="top" data-original-title="Delete"><i class="ace-icon fa fa-trash-o bigger-120"></i></button></div>');
    $tdOption.find('.deleteServiceBtn').click(function(e) {
        $.ajax({
            url: '../instances/' + urlParams.id + '/services/' + serviceData.rowid,
            type: 'DELETE',
            success: function() {
              console.log($tr);
              var $modalServiceList = $('.serviceNameList');
              var $option = $modalServiceList.find('option[value='+serviceData.rowid+']');
              $tr.remove();
              $option.remove();
               var $serviceList = $('#serviceList');
                var $input = $serviceList.find('input[value=' +serviceData.rowid + ']');
                if ($input.length) {
                    $input.get(0).checked = false;
                    $input.parents('tr').removeClass('hidden');
                }
                
            }
        });
    });

  

  $tr.append($tdOption);

}

$('.btnSaveService').click(function(e) {
    var $serviceList = $('#serviceList');
    var $checkbox = $serviceList.find('input[type="checkbox"]:checked');
    var serviceIds = [];
    $checkbox.each(function() {
        serviceIds.push($(this).val());
    })
    console.log('serviceIds ==>', serviceIds);
    if (!serviceIds.length) {
        alert('please choose a service');
        return;
    }
    $.post('../instances/' + urlParams.id + '/services/add', {
        serviceIds: serviceIds
    }, function(data) {

        for (var i = 0; i < data.length; i++) {

            var $input = $serviceList.find('input[value=' + data[i] + ']');
            if ($input.length) {
                var serviceData = $input.data('serviceData');
                $input.get(0).checked = false;
                $input.parents('tr').addClass('hidden');
                addServiceToDom(serviceData);

            }
        }
        
        $('#serviceModalContainer').modal('hide');

    });

});

$('.addServiceBtn').click(function(){
  $serviceList = $('#serviceList');
  //alert($serviceList.find('tr[data-listServiceId]:not(.hidden)').length);
  if($serviceList.find('tr[data-listServiceId]:not(.hidden)').length === 0) {
     
      $serviceList.find('tr:first-child').show();
  } else {
    $serviceList.find('tr:first-child').hide();
  }

});

</script>
<!--<script>
  var containerHeight = $(".getContentWidth").height();
  $("#wid-id-10").css("height", containerHeight );
  //var contentWidth = containerWidth - staticIconWidth;
  // $("#myTabContent3").css({'width': contentWidth});
  var totalHeight = $("#content").height();
  $(".thumbnails").css("height", totalHeight);
  console.log(totalHeight);
</script>-->

<script type="text/javascript">
  
  $( document ).ready(function() {
    $('#data_bag_div2').hide();
  });
  $('.panel-databag').click(function(e){
      $('#data_bag_div2').show();
  });


  $( document ).ready(function() {
    $('#data_bag_div3').hide();
  });
  $('.panel-databag1').click(function(e){
      $('#data_bag_div3').show();
  });

  function getInfoLi(){
    $('#controlPanelLogTab').parent('li').removeClass('active');
    if(logTimeout) {
      console.log('clearint log timeout');
      clearTimeout(logTimeout);
    }
    if(stateTimeout) {
       console.log('clearint log state timeout');
      clearTimeout(stateTimeout);
    }
   var getURL = localStorage.getItem("dataEx");
    var x= location.href;
    var z= x.lastIndexOf("=");
    var ControlID = x.slice(z+1, z.length);
    localStorage.setItem("ControlID",ControlID);
    location.href=getURL;
  }
$(document).ready(function() {

  //emptying ssh container 
  $('#modalSSHShellContainer').on('hide.bs.modal',function(e){
      $('#modalSSHShellContainer').find('.modal-body').empty();
  });
    var LocalBreadCrumb = localStorage.getItem("breadcrumb");
    var splitBread = null;
    if(LocalBreadCrumb != null && LocalBreadCrumb != 'undefined')
    {
        localStorage.removeItem("breadcrumb");
        splitBread = LocalBreadCrumb.split('>');
        if(splitBread.length > 0)
        {
            $('#ribbon').find('.breadcrumb').find('li').detach();
            for(var arraycount=0;arraycount< splitBread.length;arraycount++){
              var liNew = document.createElement('li');
              liNew.innerHTML = splitBread[arraycount];
              $('#ribbon').find('.breadcrumb').append(liNew);
            }
            var liCP = document.createElement('li');
            liCP.innerHTML = "Control panel";
            $('#ribbon').find('.breadcrumb').append(liCP);
            var parentUl = $('li').filter(".referenceliClass.open").find('ul').find('li[data-envname='+splitBread[3]+']');
            parentUl.addClass('active');
        }
    }
});

</script>
<script type="text/javascript">
$('.instance-details-item').click(function(e) {
        $(this).parents('.flip-toggle').toggleClass('flip');
        $('.front').hide();
        $('.back').show();
    });

$('.goback').click(function(e) {
        $(this).parents('.flip-toggle').toggleClass('flip');
        $('.front').show();
        $('.back').hide();
    });
</script>