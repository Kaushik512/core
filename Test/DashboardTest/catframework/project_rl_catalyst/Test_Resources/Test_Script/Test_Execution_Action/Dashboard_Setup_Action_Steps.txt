*** Settings ***
Documentation      A resource file with reusable keywords and variables.
...
...                This file is part of a prototype automated test suite designed to
...                test web application products built on top of the SLZ platform.
...

Library            Selenium2Library
Library            String
Library            Collections


Resource           catalyst.txt
Resource           ${CATALYST TEST DATA}/${TESTDATA}
Resource           ${COMMON RESOURCES}/catalyst_grid_node.txt



*** Variables ***

*** Keywords ***
Version Number and the Jenkins Buildnumber
    Open Browser    ${ENVIRONMENT SERVER}     ${BROWSER TYPE}
    Sleep    5s   
    Store the Buildnumber



Store the Buildnumber
    ${JEN BUILDNUM}=    Get Text    xpath=.//*[@id='login']/footer/div[2]/p/span
    Log    ${JEN BUILDNUM}


Catalyst Login
    Browser is opened to login catalyst
    Enters catalyst User Name
    Enters catalyst password
    Clicks on Login button

Catalyst Logout
    Clicks on LogOut link


Clicks on LogOut link
    Wait Until Keyword Succeeds    1 minute     1 seconds       Wait Until Element Is Visible       xpath=.//*[@id='logout']/span/a/i
    Focus    xpath=.//*[@id='logout']/span/a/i
    Wait Until Keyword Succeeds    1 minute     1 seconds      Click Element    xpath=.//*[@id='logout']/span/a/i





Catalyst AWS Cost Dashboard Verification
    Clicks on Tracks Button
    Sleep    8s
    Clicks on AWS Cost link
    Sleep    10s
    #Clicks on Left Panel Button
    Sleep    2 minute
    Verify Page contains Cost Usage for Month
    Verify Page contains Cost Usage for Day
    Verify Page contains Summary
    Verify Page contains Active Instance
    Verify Page contains Security Groups
    Verify Page contains EBS Volumes
    Verify Page contains EBS Snapshots
    Verify Page contains S3 Buckets
    Verify Page contains R53 Zone
    Verify Page contains Elastic IP
    Verify Page contains I/O Traffic
    Capture the Screen Shot of the Dashboard

Catalyst AWS Usage Dashboard Verification
    Clicks on Tracks Button
    Sleep    4s
    Clicks on AWS Usage Link
    Sleep    10s
    Clicks on Left Panel Button
    Sleep    40s
    Verfiy the Availabiltiy zone
    Verify the Low Usage
    Verify the Total Instances
    Verify the Active Instances
    Verify the High Usage
    Verify the Under Utilized Instances
    Verify the Average CPU Usage
    Capture the Screen Shot of the Dashboard


Catalyst System Monitoring Dashboard Verification
    Clicks on Tracks Button
    Sleep    4s
    Clicks on Monitoring Link
    Sleep    1s
    Clicks on System Monitoring Link
    Sleep    10s
    Clicks on Left Panel Button
    Sleep    40s
    Verify Page Contains Ping
    Verify Page Contains Traffic
    Verify Page Contains DiskUse
    Verify Page Contains Settings
    Verify Page Contains Memory Used
    Verify Page Contains Total Memory
    Capture the Screen Shot of the Dashboard


Catalyst Log Monitoring Dashboard Verification
    Clicks on Tracks Button
    Sleep    4s
    Clicks on Monitoring Link
    Sleep    1s
    Clicks on Log Monitoring Link
    Sleep    10s
    Clicks on Left Panel Button
    Sleep    40s
    Capture the Screen Shot of the Dashboard
    Verify Page Contains Access-Layer-Performance
    Verify Page Contains Access-Layer-Uptime
    Verify Page Contains Access-Layer-Response
    Verify Page Contains Cat-Uptime
    Verify Page Contains Cat-App-Usage
    Verify Page Contains Cat-Bootstrap-Perday
    Verify Page Contains Cat-LogLevel-Percent
    Verify Page Contains Cat_Errors
    Verify Page Contains Cat-Access-Errors
    Capture the Screen Shot of the Dashboard
 

Catalyst Notifications Dashboard Verification
    Clicks on Tracks Button
    Sleep    4s
    Clicks on Notifications link
    Sleep    1s
    Clicks on the Link to dashboard
    Sleep    10s
    Clicks on Left Panel Button
    Sleep    40s
    Verify Page Contains Connected
    Verify Page Contains CatsEye
    Verify Page Contains Telemetry
    Verify Page Contains Adverse Events
    Verfiy Page Contains Aws Accounts
    Verify Page Contains Tottal Instances
    Verify Page Contains Running
    Verify Page Contains Stopped
    Verify Page Contains Monitoring
    Verify Page Contains Laast Updated
    Capture the Screen Shot of the Dashboard
    Sleep    1s
    #Clicks on Telemetry Tab
    #Capture the Screen Shot of the Dashboard
    #Sleep    1s
    #Clicks on AdverseEvents tab
    #Capture the Screen Shot of the Dashboard


Clicks on AdverseEvents tab
    Click Element    xpath=.//*[@id='tabs']/li[3]/a

Clicks on Telemetry Tab
    Click Element    xpath=.//*[@id='tabs']/li[2]/a

Verify Page Contains Connected
    Page Should Contain    Connected

Verify Page Contains CatsEye
    Page Should Contain    Cats Eye    

Verify Page Contains Telemetry
    Page Should Contain    Telemetry

Verify Page Contains Adverse Events
    Page Should Contain    Adverse Events

Verfiy Page Contains Aws Accounts
    Page Should Contain    AWS Accounts    

Verify Page Contains Tottal Instances
    Page Should Contain    Total instances

Verify Page Contains Running
    Page Should Contain    Running

Verify Page Contains Stopped
    Page Should Contain    Stopped

Verify Page Contains Monitoring
    Page Should Contain    Monitoring

Verify Page Contains Laast Updated
    Page Should Contain    Last Updated




Clicks on the Link to dashboard
    Click Element    xpath=(//a[./text() = "Notifications"])[2] 

Clicks on Notifications link
    Click Element    xpath=.//a[text()='Notifications']  


Verify Page Contains Access-Layer-Performance
    Page Should Contain    ACCESS-LAYER-Performance

Verify Page Contains Access-Layer-Uptime
    Page Should Contain    ACCESS-LAYER-UPTIME

Verify Page Contains Access-Layer-Response
    Page Should Contain    ACCESS-LAYER-RESPONSE

Verify Page Contains Cat-Uptime
    Page Should Contain    CAT-UPTIME

Verify Page Contains Cat-App-Usage
    Page Should Contain    CAT-APP-USAGE

Verify Page Contains Cat-Bootstrap-Perday
    Page Should Contain    CAT-BOOTSTRAP-PERDAY 

Verify Page Contains Cat-LogLevel-Percent
    Page Should Contain    CAT-LOGLEVEL-Percent

Verify Page Contains Cat_Errors
    Page Should Contain    CAT-ERRORS    

Verify Page Contains Cat-Access-Errors
    Page Should Contain    CAT-ACCESS-ERRORS    

Clicks on Log Monitoring Link
    Click Element    xpath=.//a[text()='Log Monitoring']

Clicks on Monitoring Link
    Click Element    xpath=.//a[text()='Monitoring']

Clicks on System Monitoring Link
    Click Element    xpath=.//a[text()='System Monitoring']

Verify Page Contains Ping
    Page Should Contain    Ping

Verify Page Contains Traffic
    Page Should Contain    Traffic

Verify Page Contains DiskUse
    Page Should Contain    DISK USE

Verify Page Contains Settings
    Page Should Contain    settings

Verify Page Contains Memory Used
    Page Should Contain    Memory Used

Verify Page Contains Total Memory
    Page Should Contain    Total Memory




Verfiy the Availabiltiy zone
    Page Should Contain    Avaliablity Zone

Verify the Low Usage
    Page Should Contain    Low Usage

Verify the Total Instances
    Page Should Contain    Total Instances

Verify the Active Instances
    Page Should Contain    Active Instances

Verify the High Usage
    Page Should Contain    High Usage

Verify the Under Utilized Instances
    Page Should Contain    Under-utilized Instances

Verify the Average CPU Usage
    Page Should Contain    Average CPU Usage




Clicks on AWS Usage Link
    Click Element    xpath=.//a[text()='AWS Usage']



Clicks on Tracks Button
   Click Element    id=trackNew

Clicks on AWS Cost link
    Click Element    xpath=.//a[text()='AWS Cost']

Clicks on Left Panel Button
    Click Element    xpath=.//*[@id='left-panel']/span


Verify Page contains Cost Usage for Month
    Page Should Contain    Cost Usage for Month

Verify Page contains Cost Usage for Day
    Page Should Contain    Cost Usage for Day

Verify Page contains Summary
    Page Should Contain    Summary

Verify Page contains Active Instance
    Page Should Contain    Active Instance 


Verify Page contains Security Groups
    Page Should Contain    Security Groups


Verify Page contains EBS Volumes
    Page Should Contain    EBS Volumes

Verify Page contains EBS Snapshots
    Page Should Contain    EBS Snapshots


Verify Page contains S3 Buckets
    Page Should Contain    S3 Buckets


Verify Page contains R53 Zone
    Page Should Contain    R53 Zone


Verify Page contains Elastic IP
    Page Should Contain    Elastic IP


Verify Page contains I/O Traffic
    Page Should Contain    I/O Traffic
    Page Should Contain    Inbound
    Page Should Contain    Outbound

Capture the Screen Shot of the Dashboard
    Capture Page Screenshot

